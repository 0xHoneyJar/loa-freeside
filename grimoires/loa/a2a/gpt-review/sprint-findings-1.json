{
  "verdict": "CHANGES_REQUIRED",
  "summary": "The plan is close, but several dependency/consistency breaks and a couple of missing integration tasks will cause gates to fail (or be untestable) in Sprint 4+ and Sprint 10.",
  "blocking_issues": [
    {
      "location": "Sprint 4 / Task 4.1 (ECONOMICS.md) pre-flight source paths",
      "issue": "Pre-flight cites a file path that appears to still use the old name: `themes/sietch/src/packages/core/protocol/arrakis-conservation.ts`.",
      "why_blocking": "Your global requirement is zero naming violations in platform context and Sprint 1/3 enforce `arrakis` grep checks. If the code path really contains `arrakis-*`, either (a) the naming gate will fail, or (b) ECONOMICS.md will be forced to cite a path that violates the naming policy. Either way, Sprint 4’s gate (“grounded + citations valid”) becomes unachievable without changing either code or the naming rule.",
      "fix": "Before Sprint 4 starts, add an explicit task to reconcile this: either rename the source file/module to loa-freeside naming (and update imports), or update the naming policy to allow `arrakis` in code paths while still banning it in docs prose. Then update all planned citations/paths accordingly."
    },
    {
      "location": "Sprint 2 / Task 2.1 (extract-routes.sh) vs Sprint 4 / Task 4.4 (coverage note)",
      "issue": "Task 2.1 specifies a ts-morph AST parser, but Sprint 4.4 states the actual implementation is grep-based and must be documented as such.",
      "why_blocking": "This is a direct plan contradiction that will cause either implementation churn (building AST when you later document grep) or doc/code truth violations (documenting grep when code is AST). It also impacts RTFM check #8 (route diff completeness) and Sprint 2 acceptance criteria (supported patterns, unresolvable linter) which are AST-specific.",
      "fix": "Decide and lock the extraction approach in Sprint 2: either (A) keep ts-morph and remove the Sprint 4.4 note about grep, or (B) change Sprint 2.1 acceptance criteria to match a grep-based extractor (supported patterns, limitations, and linter semantics) and update Sprint 2.2/2.3/RTFM check #8 expectations accordingly."
    },
    {
      "location": "Sprint 4 / Task 4.1 (ECONOMICS.md) and Sprint 9 / Task 9.1 (Formal Specification)",
      "issue": "The plan requires documenting “exactly the properties found in arrakis-conservation.ts” (Sprint 4) and later a table of “all 14 canonical properties” (Sprint 9), while Sprint 6.4 says freeside enforces only N of 14 and some are protocol-only.",
      "why_blocking": "As written, these requirements can conflict and become untestable: Sprint 4 demands exactness from a freeside adapter file, Sprint 9 demands completeness from loa-hounfour, and Sprint 6.4 demands partial enforcement disclosure. Without a defined reconciliation rule, reviewers/RTFM can’t determine correctness, and you risk rework across three sprints.",
      "fix": "Add an explicit acceptance rule: ECONOMICS.md must (1) list the canonical 14 from loa-hounfour as the normative set, (2) separately state which subset is enforced in freeside (with citations to freeside enforcement points), and (3) treat any freeside adapter list as “implemented coverage,” not the canonical list. Update Sprint 4.1 acceptance criteria to reference loa-hounfour as canonical, not the freeside adapter file."
    },
    {
      "location": "Sprint 7 / Sprint 8 / Sprint 10 RTFM scope management",
      "issue": "RTFM managed-doc scope updates are split across Sprint 5 (adds ECONOMICS/EVENT-PROTOCOL), Sprint 8.3 (adds GLOSSARY), and Sprint 10.1 (adds GLOSSARY again). Sprint 10.1 also says it depends on Sprints 7–9, but GLOSSARY is introduced in Sprint 8.",
      "why_blocking": "This creates a real risk that Sprint 8’s gate (“RTFM 8/8”) is impossible if GLOSSARY isn’t in MANAGED_DOCS yet (or conversely, that Sprint 10 is redundant and drifts). It also makes it unclear which sprint is responsible for keeping validation scope authoritative, which is critical because “docs are the product surface” and gates rely on RTFM.",
      "fix": "Make RTFM scope ownership single-source: (a) require each sprint that introduces a new managed doc to update MANAGED_DOCS in the same sprint (so Sprint 8.3 is the only place GLOSSARY is added), and (b) remove Sprint 10.1 or change it to a pure verification task (“confirm MANAGED_DOCS already includes all docs”). Also correct Sprint 10.1 dependencies to match the actual introduction point."
    },
    {
      "location": "Sprint 2 / Task 2.4 (verify-routes.sh) acceptance criteria",
      "issue": "The contract check requires sending unauthenticated HEAD/GET to “each indexed route” and expecting 401/403 vs 2xx/3xx, but many routes may not support HEAD, may require POST, or may have side effects; also “auth” classification is derived from static extraction which may not map cleanly to runtime behavior.",
      "why_blocking": "This can make Sprint 2’s gate (“smoke-test checklist passes”) fail for reasons unrelated to docs correctness, and can make verify-routes.sh flaky/unreliable. A flaky required check will block merges in Sprint 5/10.",
      "fix": "Constrain verify-routes.sh to a safe, testable subset: (1) only methods that are safe to probe (GET/HEAD where implemented), (2) allow per-route probe method override in the extracted JSON, and (3) treat “method not allowed/405” as non-fatal for HEAD probes. Add explicit acceptance criteria for how to handle non-idempotent routes (POST/PUT/DELETE) and routes requiring bodies."
    },
    {
      "location": "Sprint 9 / Task 9.2 (BUTTERFREEZONE discovery fields) vs Sprint 1 / Task 1.2 (golden vectors + determinism)",
      "issue": "Sprint 9 changes the BUTTERFREEZONE header schema but does not include an explicit task to update the golden vectors/fixtures and any schema expectations in butterfreezone-validate.sh beyond “updated to validate new fields (or passes with advisory warnings)”.",
      "why_blocking": "If golden vectors are strict (as Sprint 1.2 implies) and hashes are per-section, adding fields will change hashes and likely fail butterfreezone-validate.sh and RTFM check #7 until fixtures are updated. “Or passes with advisory warnings” is ambiguous and risks a gate deadlock.",
      "fix": "Add an explicit subtask in Sprint 9.2 (or Sprint 10.2) to regenerate and commit updated golden vectors and to define validator behavior: either (A) new fields are required and fixtures updated accordingly, or (B) new fields are optional and validator treats absence as warning with a specific exit code that RTFM accepts. Then align RTFM check #7 to the chosen exit-code policy."
    },
    {
      "location": "Bridge/deep review coverage tracking across Sprints 4–7",
      "issue": "The plan claims all bridge findings and deep review gaps are addressed, but there is no explicit “findings closure checklist” task that maps each finding ID (3 MEDIUM, 2 LOW, 1 REFRAME, 3 SPECULATION, 4 gaps) to a concrete doc section/commit and re-validates after subsequent edits.",
      "why_blocking": "Because later sprints (7–10) modify the same docs, it’s easy to regress a previously “addressed” finding. Without a closure artifact, Sprint 10’s merge-readiness gate can fail in review even if RTFM passes (human reviewer says a finding is still open).",
      "fix": "Add a lightweight but explicit task (ideally Sprint 10) to create/update `grimoires/loa/bridge-findings-closure.md` (or NOTES.md section) with a table: finding → implemented change → doc section link → citations → validation evidence. Make Sprint 10 gate require this table to show all findings closed."
    }
  ],
  "question": "",
  "iteration": 1
}
